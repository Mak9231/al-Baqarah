



<h1 class="text-3xl font-bold mb-6">Nos vidéos</h1>

<div class="mb-4">
  <input
    type="text"
    id="video-search"
    placeholder="Rechercher une vidéo..."
    class="w-full p-2 border border-gray-300 rounded"
  />
</div>

<div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6">
  <% @videos.each do |video| %>
    <div class="video-card bg-white rounded-lg shadow-lg overflow-hidden hover:shadow-2xl transition-shadow duration-300">
      <a href="<%= video_path(video) %>">
        <img src="<%= video.thumbnail_url %>" alt="<%= video.title %>" class="w-full h-48 object-cover" />
      </a>
      <div class="p-4">
        <h2 class="text-xl font-semibold mb-2"><%= video.title %></h2>
        <p class="text-gray-600 text-sm"><%= truncate(video.description, length: 100) %></p>
      </div>
    </div>
  <% end %>
</div>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const searchInput = document.getElementById("video-search");
    const videoCards = document.querySelectorAll(".video-card");

    searchInput.addEventListener("input", () => {
      const query = searchInput.value.toLowerCase();
      videoCards.forEach(card => {
        const title = card.querySelector("h2").textContent.toLowerCase();
        if (title.includes(query)) {
          card.style.display = "";
        } else {
          card.style.display = "none";
        }
      });
    });
  });
</script>
